# WSXJS 网站增强执行计划

本文档提供详细的、分步骤的执行计划，将 WSXJS 网站从简单的示例展示升级为世界级的框架官方网站。

## 执行概览

**总时间估算**: 10-14 周  
**优先级排序**: 从最高优先级到低优先级  
**技术约束**: 所有功能必须使用 WSXJS 构建（`.wsx` 文件）

---

## 阶段 0: 首页价值主张优化（1 周）- 🔥 最高优先级

**目标**: 作为 WSXJS 的"前门"，首页必须立即传达核心价值

### 步骤 0.1: 分析当前首页（1 天）

- [ ] 审查 `HomeSection.wsx` 当前实现
- [ ] 对比 Vue.js 和 React 的首页设计
- [ ] 识别需要改进的关键点
- [ ] 收集 WSXJS 的核心价值主张

### 步骤 0.2: 设计新的 Hero Section（1 天）

- [ ] 设计核心标语："JSX for Native Web Components"
- [ ] 设计副标题和描述文案
- [ ] 设计 CTA 按钮布局（Get Started, Try Online）
- [ ] 创建设计稿或原型

### 步骤 0.3: 实现对比说明部分（1 天）

- [ ] 创建 `ComparisonSection.wsx` 组件
- [ ] 实现 vs React 对比
- [ ] 实现 vs Vue 对比
- [x] 实现 vs Vanilla 对比
- [ ] 添加样式和动画

### 步骤 0.4: 实现性能指标展示（1 天）

- [ ] 创建 `PerformanceMetrics.wsx` 组件
- [ ] 显示运行时大小（0 KB）
- [ ] 显示性能指标（100% Native）
- [ ] 添加动画效果

### 步骤 0.5: 实现快速开始代码示例（1 天）

- [ ] 创建 `QuickStartCode.wsx` 组件
- [ ] 添加代码高亮
- [ ] 实现复制功能
- [ ] 添加"Try Online"按钮（链接到 Playground）

### 步骤 0.6: 集成统计数据（1 天）

- [ ] 创建 `StatsSection.wsx` 组件
- [ ] 集成 npm downloads API（或使用静态数据）
- [ ] 集成 GitHub stars API（或使用静态数据）
- [ ] 添加加载状态和错误处理

### 步骤 0.7: 测试和优化（1 天）

- [ ] 测试响应式设计（移动端、平板、桌面）
- [ ] 测试性能（Lighthouse 评分）
- [ ] 优化动画和交互
- [ ] 收集反馈并迭代

**交付物**:
- ✅ 优化后的 `HomeSection.wsx`
- ✅ 新的对比组件
- ✅ 性能指标组件
- ✅ 快速开始代码组件
- ✅ 统计数据组件

---

## 阶段 1: 基础增强（1-2 周）- 高优先级

### 步骤 1.1: SEO 优化（3 天）

#### 1.1.1 创建 MetaManager 工具类（1 天）

- [ ] 创建 `src/utils/meta-manager.ts`
- [ ] 实现 `update()` 方法
- [ ] 实现 `setMeta()` 私有方法
- [ ] 支持 title, description, og:*, twitter:* 标签
- [ ] 添加单元测试

#### 1.1.2 创建路由 Meta 配置（0.5 天）

- [ ] 创建 `src/config/route-meta.ts`
- [ ] 为每个路由定义 meta 信息
- [ ] 包含 title, description, image, url
- [ ] 支持默认值和覆盖

#### 1.1.3 集成到路由系统（0.5 天）

- [ ] 在 `App.wsx` 中监听路由变化
- [ ] 路由变化时调用 `MetaManager.update()`
- [ ] 测试所有路由的 meta 标签更新

#### 1.1.4 添加结构化数据（1 天）

- [ ] 创建 `src/utils/structured-data.ts`
- [ ] 实现 `addStructuredData()` 函数
- [ ] 为首页添加 SoftwareApplication schema
- [ ] 为文档页面添加 Article schema
- [ ] 验证结构化数据（使用 Google Rich Results Test）

### 步骤 1.2: 错误处理（2 天）

#### 1.2.1 创建 404 页面（1 天）

- [ ] 创建 `src/components/NotFoundSection.wsx`
- [ ] 设计友好的 404 页面
- [ ] 添加"返回首页"链接
- [ ] 添加搜索建议
- [ ] 在 `App.wsx` 中添加通配符路由

#### 1.2.2 添加错误边界（1 天）

- [ ] 创建 `src/utils/error-handler.ts`
- [ ] 实现全局错误监听
- [ ] 实现用户友好的错误提示
- [ ] 添加错误上报（可选）

### 步骤 1.3: 内容修复（1 天）

- [ ] 修复页脚链接（替换 `#` 占位符）
- [ ] 配置真实的社交媒体链接
- [ ] 添加真实的文档链接
- [ ] 测试所有链接的有效性

**交付物**:
- ✅ MetaManager 工具类
- ✅ 路由 Meta 配置
- ✅ 结构化数据支持
- ✅ 404 页面
- ✅ 错误处理系统
- ✅ 修复后的页脚链接

---

## 阶段 2: 文档集成（2-3 周）- 高优先级

### 步骤 2.1: 创建文档布局组件（3 天）

#### 2.1.1 创建 DocLayout 组件（1 天）

- [ ] 创建 `src/docs/DocLayout.wsx`
- [ ] 实现三栏布局（侧边栏、内容、目录）
- [ ] 添加响应式设计
- [ ] 参考 Vue.js 的文档布局

#### 2.1.2 创建 DocSidebar 组件（1 天）

- [ ] 创建 `src/docs/DocSidebar.wsx`
- [ ] 实现文档导航树
- [ ] 支持展开/折叠
- [ ] 高亮当前页面
- [ ] 添加滚动定位

#### 2.1.3 创建 DocTOC 组件（1 天）

- [ ] 创建 `src/docs/DocTOC.wsx`
- [ ] 从文档内容提取标题
- [ ] 生成目录结构
- [ ] 添加锚点链接
- [ ] 高亮当前章节

### 步骤 2.2: 实现 Markdown 转 WSX（5 天）

#### 2.2.1 创建 Vite 插件（2 天）

- [ ] 创建 `packages/examples/plugins/markdown-to-wsx-plugin.ts`
- [ ] 使用 `marked` 或 `markdown-it` 解析 Markdown
- [ ] 转换为 WSX 组件代码
- [ ] 自动添加 `@jsxImportSource` pragma
- [ ] 处理代码块高亮
- [ ] 处理内联代码

#### 2.2.2 配置插件（1 天）

- [ ] 在 `vite.config.ts` 中配置插件
- [ ] 设置源路径（`../docs`）
- [ ] 设置输出路径（`./src/docs/pages`）
- [ ] 测试转换功能

#### 2.2.3 转换现有文档（1 天）

- [ ] 转换 `docs/guide/QUICK_START.md`
- [ ] 转换 `docs/guide/WEB_COMPONENT_GUIDE.md`
- [ ] 转换 `docs/guide/LIGHT_COMPONENT_GUIDE.md`
- [ ] 转换其他指南文档
- [ ] 验证转换结果

#### 2.2.4 创建 DocContent 组件（1 天）

- [ ] 创建 `src/docs/DocContent.wsx`
- [ ] 渲染转换后的 WSX 组件
- [ ] 处理代码高亮
- [ ] 处理链接和锚点
- [ ] 添加样式

### 步骤 2.3: 实现搜索功能（3 天）

#### 2.3.1 创建搜索工具（1 天）

- [ ] 安装 `fuse.js` 依赖
- [ ] 创建 `src/utils/search.ts`
- [ ] 构建搜索索引（从所有文档页面）
- [ ] 实现搜索函数
- [ ] 添加搜索评分和排序

#### 2.3.2 创建搜索 UI 组件（1.5 天）

- [ ] 创建 `src/components/DocSearch.wsx`
- [ ] 实现搜索模态框
- [ ] 实现搜索输入框
- [ ] 实现搜索结果列表
- [ ] 添加键盘导航（↑↓ 选择，Enter 确认）
- [ ] 添加快捷键支持（Cmd/Ctrl + K）
- [ ] 实现高亮匹配文本

#### 2.3.3 集成搜索功能（0.5 天）

- [ ] 在导航栏添加搜索按钮
- [ ] 测试搜索功能
- [ ] 优化搜索性能
- [ ] 添加搜索提示

### 步骤 2.4: 添加文档导航功能（2 天）

#### 2.4.1 创建面包屑导航（1 天）

- [ ] 创建 `src/docs/DocBreadcrumb.wsx`
- [ ] 从路由生成面包屑路径
- [ ] 添加样式和交互
- [ ] 集成到 DocLayout

#### 2.4.2 添加文档侧边栏导航（1 天）

- [ ] 完善 DocSidebar 组件
- [ ] 添加文档结构数据
- [ ] 实现导航高亮
- [ ] 添加滚动定位

### 步骤 2.5: 集成现有文档（2 天）

- [ ] 整理现有文档结构
- [ ] 转换所有 Markdown 文档为 WSX
- [ ] 创建文档路由配置
- [ ] 测试所有文档页面
- [ ] 修复链接和引用

**交付物**:
- ✅ 完整的文档布局系统
- ✅ Markdown 转 WSX 插件
- ✅ 所有文档转换为 WSX 组件
- ✅ 全局搜索功能
- ✅ 文档导航系统

---

## 阶段 3: 代码 Playground（2-3 周）- 高优先级

### 步骤 3.1: 集成 Monaco Editor（3 天）

#### 3.1.1 安装和配置（1 天）

- [ ] 安装 `monaco-editor` 依赖
- [ ] 配置 Monaco Editor 加载器
- [ ] 测试基础编辑器功能

#### 3.1.2 创建 Playground 组件（2 天）

- [ ] 创建 `src/components/Playground.wsx`
- [ ] 集成 Monaco Editor
- [ ] 配置 TypeScript 支持
- [ ] 配置主题和样式
- [ ] 实现编辑器生命周期管理

### 步骤 3.2: 实现代码执行沙箱（3 天）

#### 3.2.1 创建代码运行器（2 天）

- [ ] 创建 `src/utils/code-runner.ts`
- [ ] 实现 iframe 沙箱
- [ ] 加载 WSXJS 核心库
- [ ] 实现代码转译（使用 Babel standalone 或 esbuild-wasm）
- [ ] 处理错误和输出

#### 3.2.2 集成到 Playground（1 天）

- [ ] 添加"Run"按钮
- [ ] 实现代码执行
- [ ] 显示执行结果
- [ ] 处理执行错误

### 步骤 3.3: 添加示例模板（2 天）

- [ ] 创建示例模板数据
- [ ] 实现模板选择器
- [ ] 添加 Quick Start 模板
- [ ] 添加 Component 模板
- [ ] 添加 Router 模板
- [ ] 添加 State 模板

### 步骤 3.4: 添加高级功能（2 天）

- [ ] 实现代码分享功能（生成链接）
- [ ] 实现代码导出功能
- [ ] 添加代码格式化
- [ ] 添加代码验证

**交付物**:
- ✅ 完整的代码 Playground
- ✅ Monaco Editor 集成
- ✅ 代码执行沙箱
- ✅ 示例模板
- ✅ 代码分享功能

---

## 阶段 4: 性能优化（1-2 周）- 中优先级

### 步骤 4.1: 代码分割（3 天）

- [ ] 分析当前打包结果
- [ ] 配置路由级代码分割
- [ ] 配置组件级代码分割
- [ ] 测试分割效果
- [ ] 优化分割策略

### 步骤 4.2: 资源预加载（2 天）

- [ ] 识别关键资源
- [ ] 添加 `<link rel="preload">` 标签
- [ ] 添加 `<link rel="prefetch">` 标签
- [ ] 实现智能预加载策略

### 步骤 4.3: 图片优化（2 天）

- [ ] 转换图片为 WebP 格式
- [ ] 实现图片懒加载
- [ ] 添加响应式图片
- [ ] 优化图片大小

**交付物**:
- ✅ 代码分割配置
- ✅ 资源预加载策略
- ✅ 优化的图片资源

---

## 阶段 5: 社区功能（2-3 周）- 中优先级

### 步骤 5.1: 博客系统（3 天）

- [ ] 创建 `src/components/BlogSection.wsx`
- [ ] 创建博客布局组件
- [ ] 实现文章列表
- [ ] 实现文章详情页
- [ ] 添加 RSS feed

### 步骤 5.2: 社区展示（3 天）

- [ ] 创建 `src/components/CommunitySection.wsx`
- [ ] 集成 GitHub API 获取贡献者
- [ ] 展示使用案例
- [ ] 展示社区统计
- [ ] 添加社区讨论入口

### 步骤 5.3: 迁移指南（2 天）

- [ ] 创建从 React 迁移指南
- [ ] 创建从 Vue 迁移指南
- [ ] 添加迁移工具（如果有）
- [ ] 添加迁移示例

**交付物**:
- ✅ 博客系统
- ✅ 社区展示页面
- ✅ 迁移指南

---

## 阶段 6: 高级功能（2-3 周）- 中优先级

### 步骤 6.1: 性能展示（2 天）

- [ ] 收集性能对比数据
- [ ] 创建性能图表
- [ ] 创建性能展示页面
- [ ] 添加基准测试结果

### 步骤 6.2: 示例项目（2 天）

- [ ] 整理示例项目列表
- [ ] 创建示例项目展示页面
- [ ] 添加项目链接和描述
- [ ] 添加最佳实践案例

### 步骤 6.3: 国际化准备（3 天）

- [ ] 设计国际化架构
- [ ] 实现语言切换功能
- [ ] 准备中文文档（如果适用）
- [ ] 测试多语言支持

**交付物**:
- ✅ 性能展示页面
- ✅ 示例项目展示
- ✅ 国际化架构

---

## 每周检查清单

### 每周开始

- [ ] 回顾上周进度
- [ ] 更新任务状态
- [ ] 识别阻塞问题
- [ ] 调整计划（如需要）

### 每周结束

- [ ] 测试所有新功能
- [ ] 运行 lint 和类型检查
- [ ] 更新文档
- [ ] 提交代码
- [ ] 部署到预览环境

---

## 关键里程碑

| 里程碑 | 时间 | 交付物 |
|--------|------|--------|
| **M0: 首页优化完成** | 第 1 周末 | 优化后的首页，清晰的价值主张 |
| **M1: SEO 和错误处理** | 第 2-3 周末 | SEO 优化，404 页面，错误处理 |
| **M2: 文档系统上线** | 第 5-6 周末 | 完整的文档系统，搜索功能 |
| **M3: Playground 上线** | 第 8-9 周末 | 可用的代码 Playground |
| **M4: 性能优化完成** | 第 10 周末 | 优化的性能指标 |
| **M5: 社区功能上线** | 第 12-13 周末 | 博客、社区展示、迁移指南 |
| **M6: 高级功能完成** | 第 14 周末 | 性能展示、示例项目、国际化准备 |

---

## 技术栈和依赖

### 新增依赖

```json
{
  "dependencies": {
    "fuse.js": "^7.0.0",           // 搜索功能
    "monaco-editor": "^0.45.0",    // 代码编辑器
    "marked": "^11.0.0"            // Markdown 解析（或 markdown-it）
  }
}
```

### 开发工具

- Vite 插件开发（Markdown 转 WSX）
- TypeScript 类型定义
- 测试工具（Jest/Vitest）

---

## 风险与缓解

### 技术风险

1. **Markdown 转 WSX 复杂度**
   - **风险**: 转换逻辑复杂
   - **缓解**: 使用成熟的 Markdown 解析库，分步实现

2. **Monaco Editor 集成**
   - **风险**: 体积大，加载慢
   - **缓解**: 使用动态导入，代码分割

3. **代码执行安全**
   - **风险**: XSS 攻击
   - **缓解**: 使用 iframe 沙箱，限制 API 访问

### 时间风险

1. **时间估算不准确**
   - **缓解**: 每周回顾，及时调整

2. **功能范围蔓延**
   - **缓解**: 严格按照 RFC 执行，新需求单独评估

---

## 成功标准

### 功能完整性

- [ ] 所有计划功能已实现
- [ ] 所有测试通过
- [ ] 文档完整

### 质量标准

- [ ] Lighthouse 性能评分 > 90
- [ ] Lighthouse SEO 评分 > 90
- [ ] Lighthouse 可访问性评分 > 90
- [ ] 无关键 bug
- [ ] 代码覆盖率 > 80%

### 用户体验

- [ ] 首页清晰传达价值主张
- [ ] 文档易于查找和阅读
- [ ] Playground 可以正常运行代码
- [ ] 搜索功能快速准确
- [ ] 移动端体验良好

---

## 后续工作

### 持续改进

- 收集用户反馈
- 监控性能指标
- 定期更新内容
- 优化用户体验

### 未来功能

- 多语言支持（完整实现）
- 视频教程
- 更多示例项目
- 社区论坛

---

## 参考资源

- [Vue.js 官方网站](https://vuejs.org/)
- [React 官方网站](https://react.dev/)
- [RFC-0021: 框架网站增强计划](../docs/rfcs/0021-framework-website-enhancement.md)
- [网站审查文档](./WEBSITE_REVIEW.md)

